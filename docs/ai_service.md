# AI Service API

This section describes the internal API endpoint used by the AI service to submit structured complaints.

## Endpoints

### 1. AI Service Posts a Structured Complaint

*   **URL:** `/internal/ai/complaints`
*   **Method:** `POST`
*   **Description:** An internal endpoint for AI services to post pre-processed, structured complaints directly into the system. Requires authentication.
*   **Request Body (application/json):**

    ```json
    {
      "title": "AI Generated Complaint",
      "description": "This is a complaint generated by the AI service",
      "transcript": "AI transcript of the original grievance",
      "language": "en",
      "translated_text": "Translated text if original was in another language",
      "category": "AI",
      "subcategory": "Generated",
      "department_code": "PD",
      "source": "ai_service",
      "complaint_metadata": {"ai_model": "Gemini", "confidence": 0.95}
    }
    ```

*   **Response (200 OK, application/json):**

    ```json
    {
      "id": "uuid",
      "reference_no": "string",
      "status": "new",
      "department_id": "uuid"
    }
    ```

## Models

This endpoint uses the same `ComplaintCreate` and `ComplaintResponse` schemas as the regular complaints API. Refer to `complaints.md` for details.
